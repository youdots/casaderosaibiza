<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Impressions</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sora:wght@400;500;600;700&display=swap");

      :root {
        --cdr-bg: #e2d9d5;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        background: var(--cdr-bg);
        font-family: "Sora", "Inter", sans-serif;
      }

      #ft-insta-brd {
        margin: 0 !important;
        padding: 0 !important;
      }
    </style>
  </head>
  <body>
    <div id="ft-insta-app"></div>
    <script type="module">
      import App from "https://cdn.fouita.com/public/instagram-feed.js?11";
      new App({
        target: document.getElementById("ft-insta-app"),
        props: {
          settings: {
            layout: "grid",
            source: "insta",
            selected: "uname",
            header: true,
            autoplay: false,
            zigzag: false,
            cols: 6,
            cardHeight: 250,
            gap: 15,
            direction: "down",
            height: 700,
            bgColor: "#e2d9d5",
            txtColor: "rgb(160 71 26)",
            ukey: "e3b1eac8-5e34-4219-be80-238c176faad0",
          },
        },
      });
    </script>
    <div id="ft-insta-brd">
      <script src="https://cdn.commoninja.com/sdk/latest/commonninja.js" defer></script>
      <div class="commonninja_component pid-c9570fd1-c5cc-4cc9-893e-1fbffbb92d2c"></div>
    </div>
    <script>
      (() => {
        const BG_COLOR = "#e2d9d5";
        const OVERRIDE_STYLE_ID = "impressions-overrides";
        const SHADOW_OVERRIDE_STYLE_ID = "impressions-overrides-shadow";
        const OVERRIDE_CSS = `
#ft-insta-brd {
  margin: 0 !important;
  padding: 0 !important;
}
.commonninja-ribbon,
[class*="commonninja-ribbon"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  height: 0 !important;
}
.feed-header,
.ft-header {
  background-color: ${BG_COLOR} !important;
  background-image: none !important;
}
.ft-sff,
.ft-sff * {
  font-family: "Sora", "Inter", sans-serif !important;
  background-color: ${BG_COLOR} !important;
  background: ${BG_COLOR} !important;
}
#ft-insta-app .feed-content-item article,
#ft-insta-app .feed-content-item article * {
  font-family: "Inter", sans-serif !important;
}
#ft-insta-app,
.commonninja_component {
  background-color: ${BG_COLOR} !important;
  background: ${BG_COLOR} !important;
}
        `;
        const SHADOW_OVERRIDE_CSS = `
:host,
:host * {
  background-color: ${BG_COLOR} !important;
  background: ${BG_COLOR} !important;
}
.commonninja-ribbon,
[class*="commonninja-ribbon"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  height: 0 !important;
}
.feed-content-item article,
.feed-content-item article * {
  font-family: "Inter", sans-serif !important;
}
        `;

        const ensureOverrideStyle = () => {
          let style = document.getElementById(OVERRIDE_STYLE_ID);
          if (!style) {
            style = document.createElement("style");
            style.id = OVERRIDE_STYLE_ID;
            style.textContent = OVERRIDE_CSS;
          } else if (style.textContent !== OVERRIDE_CSS) {
            style.textContent = OVERRIDE_CSS;
          }

          const head = document.head || document.documentElement;
          const anchor = document.getElementById("ft-fsocial-style");
          if (anchor && anchor.parentNode) {
            if (anchor.nextSibling !== style) {
              if (style.parentNode) {
                style.parentNode.removeChild(style);
              }
              anchor.parentNode.insertBefore(style, anchor.nextSibling);
            }
          } else if (!style.parentNode) {
            head.appendChild(style);
          } else if (style.parentNode === head && head.lastChild !== style) {
            head.appendChild(style);
          }
        };

        const ensureShadowOverrideStyle = (shadowRoot) => {
          if (!shadowRoot) {
            return;
          }
          let style = shadowRoot.querySelector(`#${SHADOW_OVERRIDE_STYLE_ID}`);
          if (!style) {
            style = document.createElement("style");
            style.id = SHADOW_OVERRIDE_STYLE_ID;
            style.textContent = SHADOW_OVERRIDE_CSS;
            shadowRoot.appendChild(style);
          } else if (style.textContent !== SHADOW_OVERRIDE_CSS) {
            style.textContent = SHADOW_OVERRIDE_CSS;
          }
        };

        const applyInlineOverrides = () => {
          const brd = document.getElementById("ft-insta-brd");
          if (brd) {
            brd.style.setProperty("margin", "0", "important");
            brd.style.setProperty("padding", "0", "important");
            brd.style.setProperty("background-color", BG_COLOR, "important");
            brd.style.setProperty("background", BG_COLOR, "important");
          }

          const app = document.getElementById("ft-insta-app");
          if (app) {
            app.style.setProperty("background-color", BG_COLOR, "important");
            app.style.setProperty("background", BG_COLOR, "important");
          }

          const ribbons = document.querySelectorAll(
            ".commonninja-ribbon, [class*=\"commonninja-ribbon\"]"
          );
          for (const el of ribbons) {
            el.style.setProperty("display", "none", "important");
            el.style.setProperty("visibility", "hidden", "important");
            el.style.setProperty("opacity", "0", "important");
            el.style.setProperty("pointer-events", "none", "important");
            el.style.setProperty("height", "0", "important");
          }

          const headers = document.querySelectorAll(".feed-header, .ft-header");
          for (const el of headers) {
            el.style.setProperty("background-color", BG_COLOR, "important");
            el.style.setProperty("background", BG_COLOR, "important");
          }

          const fontTargets = document.querySelectorAll(".ft-sff, .ft-sff *");
          for (const el of fontTargets) {
            el.style.setProperty("font-family", "\"Sora\", \"Inter\", sans-serif", "important");
            el.style.setProperty("background-color", BG_COLOR, "important");
            el.style.setProperty("background", BG_COLOR, "important");
          }

          const feedArticles = document.querySelectorAll(
            "#ft-insta-app .feed-content-item article, #ft-insta-app .feed-content-item article *"
          );
          for (const el of feedArticles) {
            el.style.setProperty("font-family", "\"Inter\", sans-serif", "important");
          }

          const components = document.querySelectorAll(".commonninja_component");
          for (const component of components) {
            component.style.setProperty("--cdr-bg", BG_COLOR, "important");
            component.style.setProperty("background-color", BG_COLOR, "important");
            component.style.setProperty("background", BG_COLOR, "important");
            ensureShadowOverrideStyle(component.shadowRoot);

            if (component.shadowRoot) {
              const shadowRibbons = component.shadowRoot.querySelectorAll(
                ".commonninja-ribbon, [class*=\"commonninja-ribbon\"]"
              );
              for (const el of shadowRibbons) {
                el.style.setProperty("display", "none", "important");
                el.style.setProperty("visibility", "hidden", "important");
                el.style.setProperty("opacity", "0", "important");
                el.style.setProperty("pointer-events", "none", "important");
                el.style.setProperty("height", "0", "important");
              }

              const shadowArticles = component.shadowRoot.querySelectorAll(
                ".feed-content-item article, .feed-content-item article *"
              );
              for (const el of shadowArticles) {
                el.style.setProperty("font-family", "\"Inter\", sans-serif", "important");
              }
            }
          }
        };

        const applyOverrides = () => {
          ensureOverrideStyle();
          applyInlineOverrides();
        };

        const observer = new MutationObserver(applyOverrides);
        observer.observe(document.documentElement, { childList: true, subtree: true });
        window.addEventListener("load", applyOverrides);
        applyOverrides();

        let tries = 0;
        const interval = setInterval(() => {
          applyOverrides();
          tries += 1;
          if (tries >= 12) {
            clearInterval(interval);
          }
        }, 500);
      })();
    </script>
  </body>
</html>
